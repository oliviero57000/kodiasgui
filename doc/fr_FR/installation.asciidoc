==== Installation et configuration du plugin Jeedom et de l'extension et du skin pour kodi

==== Installation du plugin Jeedom

Après téléchargement du plugin sur votre Jeedom, activez celui-ci. 
//Allez ensuite sur la page de configuration du plugin pour passer a l'étape suivante.//

==== Installation du plugin et du skin pour Kodi

1 - Télécharger l'extension et le skin sur la page de configuration générale du plugin Jeedom.

image::../images/install1.png[]

2 - Procéder à l'installation de l'extension sur Kodi 

3 - Procéder à l'installation du skin.
Le skin utilisé comme base est Eminence 2.0. Celui-ci utilise beaucoup de dépendances, il prends donc un certain temps à s'installer et à s'activer. 
Le skin téléchargera les extensions indispensables automatiquement sur le repository officiel Kodi. D'autres extensions optionelles peuvent être activées, l'etat des dépendances est disponible dans le menu paramètres du skin.

[Important] 
La page "Domotique" remplace la page "Programmes" de kodi. Pour le moment, il n'y a pas moyen de cohabiter, toutefois, les programmes peuvent être appelés directement en utilisant les menus personnalisables du skin.
Ce skin est conçu pour proposer la page "Domotique" comme page de demmarrage. Cependant, à sa première initialisation, Kodi est configuré par défaut pour utiliser la page "Multimedia". Il faut donc modifier ce parametre dans la configuration de l'affichage.

image::../images/install7.png[]
==== Configuration de l'équipement Jeedom

Rendez-vous dans Plugins > Multimédia > kodiasgui.

1 - créer un nouvel équipement Kodi dans Jeedom avec ce plugin. Donnez-lui un nom et activez le.

image::../images/install3.png[]


Les paramètres suivants doivent être synchronisés avec Kodi :

* UID : 
Cet identifiant unique généré lors de la création de l'équipement permet d'identifier le Kodi qui se connecte. Il faut entrer cette valeur dans la configuration de l'extension "Jeedom UI Script" de Kodi.

image::../images/install2.png[]

* IP : 
L'adresse IP affichée ici elle celle identifiée par Jeedom lors des connexions à Kodi. Elle restera vide tant que le Kodi n'aura pas réussi une connexion au jeedom.

* Port : 
Le numéro de port à utiliser pour communiquer avec le Kodi en HTTP

* Login : 
Le login à utiliser pour se connecter en HTTP a Kodi

* Password : 
Le mot de passe à utiliser pour se connecter en HTTP a Kodi
Allez dans Paramètres, onglet "Serveur web", cochez la case "Autoriser le contrôle à distance via HTTP" et renseignez un numéro de port, un nom d'utilisateur, un mot de passe de votre choix
//Ces paramètres doivent être configurés dans Kodi, sur la page de configuration réseau et y activer le contrôle a distance en HTTP.//

image::../images/install4.png[]
Dans l'onglet suivant "Contrôle à distance", cochez les cases "Autoriser le contrôle à distance par des programmes sur ce système" et "Autoriser le contrôle à distance par des programmes sur d'autres systèmes"
//Sur la page suivante, il faut autoriser le contrôle à distance par d'autres programes sur d'autres systèmes si Jeedom et Kodi ne sont pas sur les mêmes machines.//

image::../images/install5.png[]

Pour terminer la configuration de la communication avec plugin Kodi , il faut configurer l'adresse de push de Jeedom. 
Dans la configuration de Jeedom a l'onglet commandes. Il faut entrer l'adresse suivante :

http://xxx.xxx.xxx.xxx/plugins/kodiasgui/core/api/kodiasgui.api.php?func=push 

+xxx.xxx.xxx.xxx+ étant l'adresse IP de votre Jeedom.

image::../images/install6.png[]

Si vous utilisez déjà cette adresse de Push pour autre chose, ce plugin permettra bientot d'enchaîner le push sur une autre adresse. 